# 个人文件云开发计划

## 1. 项目概述

本项目旨在开发一个简洁的个人文件存储网页应用。用户可以通过网页方便地上传、查看和下载文件。项目将部署在个人服务器上，并使用 Docker 进行容器化管理，以实现快速、一致的部署。

## 2. 技术选型

-   **后端框架:** Python 3.x + Django 4.x
-   **数据库:** SQLite (开发阶段) / PostgreSQL (生产环境，可选)
-   **前端:** HTML5, CSS3, JavaScript (使用 Bootstrap 5 简化样式)
-   **部署:** Docker, Docker Compose
-   **服务器:** OpenCloudOS

## 3. 功能模块

### 第一阶段：核心功能

-   **文件上传:** 实现一个文件上传表单，允许用户选择并上传文件。
-   **文件列表:** 在主页显示已上传文件的列表。
-   **文件下载:** 用户可以点击列表中的文件进行下载。
-   **文件删除:** 用户可以删除已上传的文件。

### 第二阶段：优化与扩展 (可选)

-   **用户认证:** 添加登录和注册功能，实现多用户隔离。
-   **文件夹功能:** 支持创建文件夹来组织文件。
-   **文件预览:** 对图片、PDF等常见格式提供在线预览功能。
-   **后台管理:** 优化 Django Admin，方便管理员管理所有文件。

## 4. 部署方案

1.  **编写 Dockerfile:** 创建一个 Dockerfile 用于构建 Django 应用的镜像。该镜像将包含所有依赖项和应用代码。
2.  **编写 docker-compose.yml:** 使用 Docker Compose 来编排应用服务。初期只包含一个 `web` 服务，用于运行 Django 应用。未来可以轻松扩展，加入 Nginx 反向代理或 PostgreSQL 数据库服务。
3.  **编写 deploy.sh:** 创建一个自动化部署脚本。该脚本将负责：
    -   从代码仓库拉取最新代码 (如果使用 Git)。
    -   停止并移除旧的 Docker 容器。
    -   使用 `docker-compose` 重新构建并启动服务。
    -   执行数据库迁移等初始化操作。

## 5. 数据库方案

-   **开发环境:** 为了快速启动和简化配置，开发阶段将使用 Django 内置的 SQLite 数据库。
-   **生产环境:** 推荐使用 PostgreSQL，它更稳定且功能强大。届时可以在 `docker-compose.yml` 中添加一个 PostgreSQL 服务。

---
*此文档作为项目开发的指导蓝图，具体实现细节可能根据开发进度进行调整。*
